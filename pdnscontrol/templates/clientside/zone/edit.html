<form name="zoneForm">
<div class="row">
<div class="small-12 columns">
  <a href="/server/{{server.name}}"><h2 class="server-name">{{server.name}}</h2></a>
  <h3 class="zone-name" ng-show="zone._url">{{master.name}}</h3>
  <h3 class="zone-name" ng-show="!zone._url">Add Zone</h3>
</div>
</div>

<div class="row" ng-show="errors.length">
  <div class="small-12 columns errors">
    <h5>Errors</h5>
    <ul class="disc">
      <li ng-repeat="error in errors">{{error}}</li>
    </ul>
  </div>
</div>

<div class="row">
  <div class="small-12 columns">
    <label ng-class="{error: zoneForm.name.$invalid}" for="zonename">Zone Name</label>
    <input type="text" name="name" ng-model="zone.name" required id="zonename">
  </div>
</div>

<div class="row">
  <div class="small-12 columns">
    <label ng-class="{error: zoneForm.kind.$invalid}" for="zonetype">Zone Type</label>
    <select ng-model="zone.kind" required id="zonetype">
      <option value="Native">Native</option>
      <option value="Master">Master</option>
      <option value="Slave">Slave</option>
    </select>
  </div>
</div>

<div class="row">
  <div class="small-12 columns">

  <fieldset ng-show="!zone._url">
    <legend ng-class="{error: zoneForm.nameservers.$invalid}">Nameservers</legend>

    <div class="row">
      <div class="large-6 columns" ng-repeat="nameserver in zone.nameservers_o">
        <div class="row collapse">
          <div class="small-9 columns">
            <input type="text" ng-model="nameserver.nameserver" placeholder="ns1.example.org">
          </div>
          <div class="small-2 columns">
            <a href="#" ng-click="removeNameserver($index)" class="button postfix">Delete</a>
          </div>
        </div>
      </div>

      <div class="large-6 columns">
        <div class="row collapse">
          <div class="small-2 columns">
            <a href="" ng-click="addNameserver()" class="button">Add</a>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
  </div>
</div>

<div class="row">
  <div class="small-12 columns">

  <fieldset ng-show="showMasters()">
    <legend ng-class="{error: zoneForm.masters.$invalid}">Masters</legend>

    <div class="row">
      <div class="large-6 columns" ng-repeat="master in zone.masters_o">
        <div class="row collapse">
          <div class="small-11 columns">
            <input type="text" ng-model="master.master" placeholder="192.0.2.1">
          </div>
          <div class="small-1 columns">
            <a href="#" ng-click="removeMaster($index)" class="button postfix"><span class="foundicon-trash"></span></a>
          </div>
        </div>
      </div>

      <div class="large-6 columns" ng-show="canAddMaster()">
        <div class="row collapse">
          <div class="small-2 columns">
            <a href="" ng-click="addMaster()" class="button small"><span class="foundicon-plus"></span></a>
          </div>
        </div>
      </div>
    </div>
  </fieldset>
  </div>
</div>

<div class="row">
  <div class="small-12 columns">

    <br>

    <a href="/server/{{server.name}}/zone/{{master.name}}" class="button" ng-show="zone._url">Cancel</a>
    <a href="/server/{{server.name}}" class="button" ng-show="!zone._url">Cancel</a>
    <button ng-click="save()" ng-disabled="isClean() || zoneForm.$invalid" class="button">Save</button>
    <button ng-click="destroy()" ng-show="zone._url" class="button alert right">Delete</button>

  </div>
</div>
</form>
